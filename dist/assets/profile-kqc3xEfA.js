import{u as r,g as i,p as o,h as l,a as g}from"./auth-DPumrLYD.js";import{a3 as u,a as c,a4 as n,a5 as p}from"./index-XZtsOvrY.js";function P(){const{login:a}=u(),e=c();return r({mutationFn:async t=>{const{data:s}=await o.post("/auth/login",t);return s},onSuccess:t=>{a(t),e("/patient/dashboard"),n.success("Patient login successful!")},onError:t=>{const s=i(t);n.error(s||"Patient login failed")}})}function y(){const{login:a}=u(),e=c();return r({mutationFn:async t=>{const{data:s}=await o.post("/auth/register",t);return s},onSuccess:t=>{a(t),e("/patient/dashboard"),n.success("Patient registration successful!")},onError:t=>{l(t)}})}function m(){const{logout:a}=u(),e=c();return r({mutationFn:async()=>{const{data:t}=await o.post("/auth/logout");return t},onSuccess:()=>{a(),e("/"),n.success("Patient logged out successfully")},onError:t=>{const s=i(t);n.error(s||"Patient logout failed")}})}function h(){return g({queryKey:["patientProfile"],queryFn:async()=>{const{data:a}=await o.get("/patients/me");return a},staleTime:1e3*60*5})}function E(){const a=p();return r({mutationFn:async e=>{const{data:t}=await o.put(`/patients/${e._id}`,e);return t},onSuccess:e=>{a.setQueryData(["patientProfile"],e),n.success("Patient profile updated successfully")},onError:e=>{const t=i(e);n.error(t||"Failed to update patient profile")}})}export{E as a,h as b,P as c,y as d,m as u};
